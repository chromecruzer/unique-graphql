(()=>{"use strict";var e={257:(e,n)=>{n.Ll=function(e){const n=null==e?void 0:e.kind;return"string"==typeof n&&o.has(n)};class t{constructor(e,n,t){this.start=e.start,this.end=n.end,this.startToken=e,this.endToken=n,this.source=t}get[Symbol.toStringTag](){return"Location"}toJSON(){return{start:this.start,end:this.end}}}class i{constructor(e,n,t,i,r,o){this.kind=e,this.start=n,this.end=t,this.line=i,this.column=r,this.value=o,this.prev=null,this.next=null}get[Symbol.toStringTag](){return"Token"}toJSON(){return{kind:this.kind,value:this.value,line:this.line,column:this.column}}}const r={Name:[],Document:["definitions"],OperationDefinition:["name","variableDefinitions","directives","selectionSet"],VariableDefinition:["variable","type","defaultValue","directives"],Variable:["name"],SelectionSet:["selections"],Field:["alias","name","arguments","directives","selectionSet"],Argument:["name","value"],FragmentSpread:["name","directives"],InlineFragment:["typeCondition","directives","selectionSet"],FragmentDefinition:["name","variableDefinitions","typeCondition","directives","selectionSet"],IntValue:[],FloatValue:[],StringValue:[],BooleanValue:[],NullValue:[],EnumValue:[],ListValue:["values"],ObjectValue:["fields"],ObjectField:["name","value"],Directive:["name","arguments"],NamedType:["name"],ListType:["type"],NonNullType:["type"],SchemaDefinition:["description","directives","operationTypes"],OperationTypeDefinition:["type"],ScalarTypeDefinition:["description","name","directives"],ObjectTypeDefinition:["description","name","interfaces","directives","fields"],FieldDefinition:["description","name","arguments","type","directives"],InputValueDefinition:["description","name","type","defaultValue","directives"],InterfaceTypeDefinition:["description","name","interfaces","directives","fields"],UnionTypeDefinition:["description","name","directives","types"],EnumTypeDefinition:["description","name","directives","values"],EnumValueDefinition:["description","name","directives"],InputObjectTypeDefinition:["description","name","directives","fields"],DirectiveDefinition:["description","name","arguments","locations"],SchemaExtension:["directives","operationTypes"],ScalarTypeExtension:["name","directives"],ObjectTypeExtension:["name","interfaces","directives","fields"],InterfaceTypeExtension:["name","interfaces","directives","fields"],UnionTypeExtension:["name","directives","types"],EnumTypeExtension:["name","directives","values"],InputObjectTypeExtension:["name","directives","fields"]};const o=new Set(Object.keys(r));var s;!function(e){e.QUERY="query",e.MUTATION="mutation",e.SUBSCRIPTION="subscription"}(s||(s={}))}},n={};const t=require("express"),i=(require("colors"),require("cors")),r=require("graphql-yoga"),o=require("@graphql-tools/load-files"),s=require("graphql");let a={};function c(){a={}}function u(e){const n=e.name?.value;if(null!=n)switch(l(e,n),e.kind){case"EnumTypeDefinition":if(e.values)for(const t of e.values)l(t,n,t.name.value);break;case"ObjectTypeDefinition":case"InputObjectTypeDefinition":case"InterfaceTypeDefinition":if(e.fields)for(const t of e.fields)if(l(t,n,t.name.value),N(t)&&t.arguments)for(const e of t.arguments)l(e,n,t.name.value,e.name.value)}}function l(e,n,t,i){const r=I(e);if("string"!=typeof r||0===r.length)return;const o=[n];t&&(o.push(t),i&&o.push(i));const s=o.join(".");a[s]||(a[s]=[]),a[s].push(r)}function d(e){return"\n# "+e.replace(/\n/g,"\n# ")}function f(e,n){return e?e.filter((e=>e)).join(n||""):""}function p(e){return e?.some((e=>e.includes("\n")))??!1}function v(e){return e&&`  ${e.replace(/\n/g,"\n  ")}`}function m(e){return e&&0!==e.length?`{\n${v(f(e,"\n"))}\n}`:""}function y(e,n,t){return n?e+n+(t||""):""}const E={Name:{leave:e=>e.value},Variable:{leave:e=>"$"+e.name},Document:{leave:e=>f(e.definitions,"\n\n")},OperationDefinition:{leave:e=>{const n=y("(",f(e.variableDefinitions,", "),")");return f([e.operation,f([e.name,n]),f(e.directives," ")]," ")+" "+e.selectionSet}},VariableDefinition:{leave:({variable:e,type:n,defaultValue:t,directives:i})=>e+": "+n+y(" = ",t)+y(" ",f(i," "))},SelectionSet:{leave:({selections:e})=>m(e)},Field:{leave({alias:e,name:n,arguments:t,directives:i,selectionSet:r}){const o=y("",e,": ")+n;let s=o+y("(",f(t,", "),")");return s.length>80&&(s=o+y("(\n",v(f(t,"\n")),"\n)")),f([s,f(i," "),r]," ")}},Argument:{leave:({name:e,value:n})=>e+": "+n},FragmentSpread:{leave:({name:e,directives:n})=>"..."+e+y(" ",f(n," "))},InlineFragment:{leave:({typeCondition:e,directives:n,selectionSet:t})=>f(["...",y("on ",e),f(n," "),t]," ")},FragmentDefinition:{leave:({name:e,typeCondition:n,variableDefinitions:t,directives:i,selectionSet:r})=>`fragment ${e}${y("(",f(t,", "),")")} on ${n} ${y("",f(i," ")," ")}`+r},IntValue:{leave:({value:e})=>e},FloatValue:{leave:({value:e})=>e},StringValue:{leave:({value:e,block:n})=>n?function(e,n=!1){const t=e.replace(/"""/g,'\\"""');return" "!==e[0]&&"\t"!==e[0]||-1!==e.indexOf("\n")?`"""\n${n?t:v(t)}\n"""`:`"""${t.replace(/"$/,'"\n')}"""`}(e):JSON.stringify(e)},BooleanValue:{leave:({value:e})=>e?"true":"false"},NullValue:{leave:()=>"null"},EnumValue:{leave:({value:e})=>e},ListValue:{leave:({values:e})=>"["+f(e,", ")+"]"},ObjectValue:{leave:({fields:e})=>"{"+f(e,", ")+"}"},ObjectField:{leave:({name:e,value:n})=>e+": "+n},Directive:{leave:({name:e,arguments:n})=>"@"+e+y("(",f(n,", "),")")},NamedType:{leave:({name:e})=>e},ListType:{leave:({type:e})=>"["+e+"]"},NonNullType:{leave:({type:e})=>e+"!"},SchemaDefinition:{leave:({directives:e,operationTypes:n})=>f(["schema",f(e," "),m(n)]," ")},OperationTypeDefinition:{leave:({operation:e,type:n})=>e+": "+n},ScalarTypeDefinition:{leave:({name:e,directives:n})=>f(["scalar",e,f(n," ")]," ")},ObjectTypeDefinition:{leave:({name:e,interfaces:n,directives:t,fields:i})=>f(["type",e,y("implements ",f(n," & ")),f(t," "),m(i)]," ")},FieldDefinition:{leave:({name:e,arguments:n,type:t,directives:i})=>e+(p(n)?y("(\n",v(f(n,"\n")),"\n)"):y("(",f(n,", "),")"))+": "+t+y(" ",f(i," "))},InputValueDefinition:{leave:({name:e,type:n,defaultValue:t,directives:i})=>f([e+": "+n,y("= ",t),f(i," ")]," ")},InterfaceTypeDefinition:{leave:({name:e,interfaces:n,directives:t,fields:i})=>f(["interface",e,y("implements ",f(n," & ")),f(t," "),m(i)]," ")},UnionTypeDefinition:{leave:({name:e,directives:n,types:t})=>f(["union",e,f(n," "),y("= ",f(t," | "))]," ")},EnumTypeDefinition:{leave:({name:e,directives:n,values:t})=>f(["enum",e,f(n," "),m(t)]," ")},EnumValueDefinition:{leave:({name:e,directives:n})=>f([e,f(n," ")]," ")},InputObjectTypeDefinition:{leave:({name:e,directives:n,fields:t})=>f(["input",e,f(n," "),m(t)]," ")},DirectiveDefinition:{leave:({name:e,arguments:n,repeatable:t,locations:i})=>"directive @"+e+(p(n)?y("(\n",v(f(n,"\n")),"\n)"):y("(",f(n,", "),")"))+(t?" repeatable":"")+" on "+f(i," | ")},SchemaExtension:{leave:({directives:e,operationTypes:n})=>f(["extend schema",f(e," "),m(n)]," ")},ScalarTypeExtension:{leave:({name:e,directives:n})=>f(["extend scalar",e,f(n," ")]," ")},ObjectTypeExtension:{leave:({name:e,interfaces:n,directives:t,fields:i})=>f(["extend type",e,y("implements ",f(n," & ")),f(t," "),m(i)]," ")},InterfaceTypeExtension:{leave:({name:e,interfaces:n,directives:t,fields:i})=>f(["extend interface",e,y("implements ",f(n," & ")),f(t," "),m(i)]," ")},UnionTypeExtension:{leave:({name:e,directives:n,types:t})=>f(["extend union",e,f(n," "),y("= ",f(t," | "))]," ")},EnumTypeExtension:{leave:({name:e,directives:n,values:t})=>f(["extend enum",e,f(n," "),m(t)]," ")},InputObjectTypeExtension:{leave:({name:e,directives:n,fields:t})=>f(["extend input",e,f(n," "),m(t)]," ")}},T=Object.keys(E).reduce(((e,n)=>{return{...e,[n]:{leave:(t=E[n].leave,(e,n,i,r,o)=>{const s=[],c=r.reduce(((e,n)=>(["fields","arguments","values"].includes(n)&&e.name&&s.push(e.name.value),e[n])),o[0]),u=[...s,c?.name?.value].filter(Boolean).join("."),l=[];return e.kind.includes("Definition")&&a[u]&&l.push(...a[u]),f([...l.map(d),e.description,t(e,n,i,r,o)],"\n")})}};var t}),{});function N(e){return"FieldDefinition"===e.kind}function I(e){const n=function(e){const n=e.loc;if(!n)return;const t=[];let i=n.startToken.prev;for(;null!=i&&i.kind===s.TokenKind.COMMENT&&null!=i.next&&null!=i.prev&&i.line+1===i.next.line&&i.line!==i.prev.line;){const e=String(i.value);t.push(e),i=i.prev}return t.length>0?t.reverse().join("\n"):void 0}(e);if(void 0!==n)return function(e){const n=e.split(/\r\n|[\n\r]/g),t=function(e){let n=null;for(let t=1;t<e.length;t++){const i=e[t],r=g(i);if(r!==i.length&&((null===n||r<n)&&(n=r,0===n)))break}return null===n?0:n}(n);if(0!==t)for(let e=1;e<n.length;e++)n[e]=n[e].slice(t);for(;n.length>0&&O(n[0]);)n.shift();for(;n.length>0&&O(n[n.length-1]);)n.pop();return n.join("\n")}(`\n${n}`)}function g(e){let n=0;for(;n<e.length&&(" "===e[n]||"\t"===e[n]);)n++;return n}function O(e){return g(e)===e.length}const h=3;function b(e){return D(e,[])}function D(e,n){switch(typeof e){case"string":return JSON.stringify(e);case"function":return e.name?`[function ${e.name}]`:"[function]";case"object":return function(e,n){if(null===e)return"null";if(e instanceof Error)return"AggregateError"===e.name?S(e)+"\n"+k(e.errors,n):S(e);if(n.includes(e))return"[Circular]";const t=[...n,e];if(function(e){return"function"==typeof e.toJSON}(e)){const n=e.toJSON();if(n!==e)return"string"==typeof n?n:D(n,t)}else if(Array.isArray(e))return k(e,t);return function(e,n){const t=Object.entries(e);if(0===t.length)return"{}";if(n.length>h)return"["+function(e){const n=Object.prototype.toString.call(e).replace(/^\[object /,"").replace(/]$/,"");if("Object"===n&&"function"==typeof e.constructor){const n=e.constructor.name;if("string"==typeof n&&""!==n)return n}return n}(e)+"]";const i=t.map((([e,t])=>e+": "+D(t,n)));return"{ "+i.join(", ")+" }"}(e,t)}(e,n);default:return String(e)}}function S(e){return(e.name="GraphQLError")?e.toString():`${e.name}: ${e.message};\n ${e.stack}`}function k(e,n){if(0===e.length)return"[]";if(n.length>h)return"[Array]";const t=e.length,i=[];for(let r=0;r<t;++r)i.push(D(e[r],n));return"["+i.join(", ")+"]"}function _(e){if((0,s.isNonNullType)(e)){const n=_(e.ofType);if(n.kind===s.Kind.NON_NULL_TYPE)throw new Error(`Invalid type node ${b(e)}. Inner type of non-null type cannot be a non-null type.`);return{kind:s.Kind.NON_NULL_TYPE,type:n}}return(0,s.isListType)(e)?{kind:s.Kind.LIST_TYPE,type:_(e.ofType)}:{kind:s.Kind.NAMED_TYPE,name:{kind:s.Kind.NAME,value:e.name}}}function A(e){if(null===e)return{kind:s.Kind.NULL};if(void 0===e)return null;if(Array.isArray(e)){const n=[];for(const t of e){const e=A(t);null!=e&&n.push(e)}return{kind:s.Kind.LIST,values:n}}if("object"==typeof e){if(e?.toJSON)return A(e.toJSON());const n=[];for(const t in e){const i=A(e[t]);i&&n.push({kind:s.Kind.OBJECT_FIELD,name:{kind:s.Kind.NAME,value:t},value:i})}return{kind:s.Kind.OBJECT,fields:n}}if("boolean"==typeof e)return{kind:s.Kind.BOOLEAN,value:e};if("bigint"==typeof e)return{kind:s.Kind.INT,value:String(e)};if("number"==typeof e&&isFinite(e)){const n=String(e);return K.test(n)?{kind:s.Kind.INT,value:n}:{kind:s.Kind.FLOAT,value:n}}if("string"==typeof e)return{kind:s.Kind.STRING,value:e};throw new TypeError(`Cannot convert value to AST: ${e}.`)}const K=/^-?(?:0|[1-9][0-9]*)$/;function j(e,n){if((0,s.isNonNullType)(n)){const t=j(e,n.ofType);return t?.kind===s.Kind.NULL?null:t}if(null===e)return{kind:s.Kind.NULL};if(void 0===e)return null;if((0,s.isListType)(n)){const t=n.ofType;if(function(e){return null!=e&&"object"==typeof e&&Symbol.iterator in e}(e)){const n=[];for(const i of e){const e=j(i,t);null!=e&&n.push(e)}return{kind:s.Kind.LIST,values:n}}return j(e,t)}if((0,s.isInputObjectType)(n)){if(!function(e){return"object"==typeof e&&null!==e}(e))return null;const t=[];for(const i of Object.values(n.getFields())){const n=j(e[i.name],i.type);n&&t.push({kind:s.Kind.OBJECT_FIELD,name:{kind:s.Kind.NAME,value:i.name},value:n})}return{kind:s.Kind.OBJECT,fields:t}}if((0,s.isLeafType)(n)){const t=n.serialize(e);return null==t?null:(0,s.isEnumType)(n)?{kind:s.Kind.ENUM,value:t}:"ID"===n.name&&"string"==typeof t&&P.test(t)?{kind:s.Kind.INT,value:t}:A(t)}console.assert(!1,"Unexpected input type: "+b(n))}const P=/^-?(?:0|[1-9][0-9]*)$/;function F(e){return e.astNode?.description?{...e.astNode.description,block:!0}:e.description?{kind:s.Kind.STRING,value:e.description,block:!0}:void 0}function x(e,n=["directives"]){return n.reduce(((e,n)=>null==e?e:e[n]),e?.extensions)}function M(e){let n;return"alias"in e&&(n=e.alias?.value),null==n&&"name"in e&&(n=e.name?.value),null==n&&(n=e.kind),n}function U(e,n,t){const i=M(e),r=M(n);return"function"==typeof t?t(i,r):function(e,n){return String(e)<String(n)?-1:String(e)>String(n)?1:0}(i,r)}function L(e){return null!=e}function w(e){const n=new WeakMap;return function(t){const i=n.get(t);if(void 0===i){const i=e(t);return n.set(t,i),i}return i}}w((function(e){const n=C(e);return new Set([...n].map((e=>e.name)))}));const C=w((function(e){const n=V(e);return new Set(n.values())})),V=w((function(e){const n=new Map,t=e.getQueryType();t&&n.set("query",t);const i=e.getMutationType();i&&n.set("mutation",i);const r=e.getSubscriptionType();return r&&n.set("subscription",r),n}));function Y(e,n={}){const t=n.pathToDirectivesInExtensions,i=e.getTypeMap(),r=function(e,n){const t=new Map([["query",void 0],["mutation",void 0],["subscription",void 0]]),i=[];null!=e.astNode&&i.push(e.astNode);if(null!=e.extensionASTNodes)for(const n of e.extensionASTNodes)i.push(n);for(const e of i)if(e.operationTypes)for(const n of e.operationTypes)t.set(n.operation,n);const r=V(e);for(const[e,n]of t){const i=r.get(e);if(null!=i){const r=_(i);null!=n?n.type=r:t.set(e,{kind:s.Kind.OPERATION_TYPE_DEFINITION,operation:e,type:r})}}const o=[...t.values()].filter(L),a=$(e,e,n);if(!o.length&&!a.length)return null;const c={kind:null!=o?s.Kind.SCHEMA_DEFINITION:s.Kind.SCHEMA_EXTENSION,operationTypes:o,directives:a},u=F(e);u&&(c.description=u);return c}(e,t),o=null!=r?[r]:[],a=e.getDirectives();for(const n of a)(0,s.isSpecifiedDirective)(n)||o.push(R(n,e,t));for(const n in i){const r=i[n],a=(0,s.isSpecifiedScalarType)(r),c=(0,s.isIntrospectionType)(r);if(!a&&!c)if((0,s.isObjectType)(r))o.push(J(r,e,t));else if((0,s.isInterfaceType)(r))o.push(H(r,e,t));else if((0,s.isUnionType)(r))o.push(Q(r,e,t));else if((0,s.isInputObjectType)(r))o.push(G(r,e,t));else if((0,s.isEnumType)(r))o.push(X(r,e,t));else{if(!(0,s.isScalarType)(r))throw new Error(`Unknown type ${r}.`);o.push(W(r,e,t))}}return{kind:s.Kind.DOCUMENT,definitions:o}}function R(e,n,t){return{kind:s.Kind.DIRECTIVE_DEFINITION,description:F(e),name:{kind:s.Kind.NAME,value:e.name},arguments:e.args?.map((e=>q(e,n,t))),repeatable:e.isRepeatable,locations:e.locations?.map((e=>({kind:s.Kind.NAME,value:e})))||[]}}function $(e,n,t){const i=x(e,t);let r,o=[];if(null!=e.astNode&&o.push(e.astNode),"extensionASTNodes"in e&&null!=e.extensionASTNodes&&(o=o.concat(e.extensionASTNodes)),null!=i)r=ee(n,i);else{r=[];for(const e of o)e.directives&&r.push(...e.directives)}return r}function B(e,n,t){let i=[],r=null;const o=x(e,t);let a;return a=null!=o?ee(n,o):e.astNode?.directives,null!=a&&(i=a.filter((e=>"deprecated"!==e.name.value)),null!=e.deprecationReason&&(r=a.filter((e=>"deprecated"===e.name.value))?.[0])),null!=e.deprecationReason&&null==r&&(r=Z("deprecated",{reason:e.deprecationReason},s.GraphQLDeprecatedDirective)),null==r?i:[r].concat(i)}function q(e,n,t){return{kind:s.Kind.INPUT_VALUE_DEFINITION,description:F(e),name:{kind:s.Kind.NAME,value:e.name},type:_(e.type),defaultValue:void 0!==e.defaultValue?j(e.defaultValue,e.type)??void 0:void 0,directives:B(e,n,t)}}function J(e,n,t){return{kind:s.Kind.OBJECT_TYPE_DEFINITION,description:F(e),name:{kind:s.Kind.NAME,value:e.name},fields:Object.values(e.getFields()).map((e=>z(e,n,t))),interfaces:Object.values(e.getInterfaces()).map((e=>_(e))),directives:$(e,n,t)}}function H(e,n,t){const i={kind:s.Kind.INTERFACE_TYPE_DEFINITION,description:F(e),name:{kind:s.Kind.NAME,value:e.name},fields:Object.values(e.getFields()).map((e=>z(e,n,t))),directives:$(e,n,t)};return"getInterfaces"in e&&(i.interfaces=Object.values(e.getInterfaces()).map((e=>_(e)))),i}function Q(e,n,t){return{kind:s.Kind.UNION_TYPE_DEFINITION,description:F(e),name:{kind:s.Kind.NAME,value:e.name},directives:$(e,n,t),types:e.getTypes().map((e=>_(e)))}}function G(e,n,t){return{kind:s.Kind.INPUT_OBJECT_TYPE_DEFINITION,description:F(e),name:{kind:s.Kind.NAME,value:e.name},fields:Object.values(e.getFields()).map((e=>function(e,n,t){return{kind:s.Kind.INPUT_VALUE_DEFINITION,description:F(e),name:{kind:s.Kind.NAME,value:e.name},type:_(e.type),directives:B(e,n,t),defaultValue:j(e.defaultValue,e.type)??void 0}}(e,n,t))),directives:$(e,n,t)}}function X(e,n,t){return{kind:s.Kind.ENUM_TYPE_DEFINITION,description:F(e),name:{kind:s.Kind.NAME,value:e.name},values:Object.values(e.getValues()).map((e=>function(e,n,t){return{kind:s.Kind.ENUM_VALUE_DEFINITION,description:F(e),name:{kind:s.Kind.NAME,value:e.name},directives:B(e,n,t)}}(e,n,t))),directives:$(e,n,t)}}function W(e,n,t){const i=x(e,t),r=i?ee(n,i):e.astNode?.directives||[],o=e.specifiedByUrl||e.specifiedByURL;if(o&&!r.some((e=>"specifiedBy"===e.name.value))){const e={url:o};r.push(Z("specifiedBy",e))}return{kind:s.Kind.SCALAR_TYPE_DEFINITION,description:F(e),name:{kind:s.Kind.NAME,value:e.name},directives:r}}function z(e,n,t){return{kind:s.Kind.FIELD_DEFINITION,description:F(e),name:{kind:s.Kind.NAME,value:e.name},arguments:e.args.map((e=>q(e,n,t))),type:_(e.type),directives:B(e,n,t)}}function Z(e,n,t){const i=[];if(null!=t)for(const e of t.args){const t=e.name,r=n[t];if(void 0!==r){const n=j(r,e.type);n&&i.push({kind:s.Kind.ARGUMENT,name:{kind:s.Kind.NAME,value:t},value:n})}}else for(const e in n){const t=A(n[e]);t&&i.push({kind:s.Kind.ARGUMENT,name:{kind:s.Kind.NAME,value:e},value:t})}return{kind:s.Kind.DIRECTIVE,name:{kind:s.Kind.NAME,value:e},arguments:i}}function ee(e,n){const t=[];for(const i in n){const r=n[i],o=e?.getDirective(i);if(Array.isArray(r))for(const e of r)t.push(Z(i,e,o));else t.push(Z(i,r,o))}return t}var ne,te=function t(i){var r=n[i];if(void 0!==r)return r.exports;var o=n[i]={exports:{}};return e[i](o,o.exports,t),o.exports}(257);function ie(e,n){return!!e.find((e=>e.name.value===n.name.value))}function re(e,n){return!!n?.[e.name.value]?.repeatable}function oe(e,n){return n.some((({value:n})=>n===e.value))}function se(e,n){const t=[...n];for(const n of e){const e=t.findIndex((e=>e.name.value===n.name.value));if(e>-1){const i=t[e];if("ListValue"===i.value.kind){const e=i.value.values,t=n.value.values;i.value.values=ue(e,t,((e,n)=>{const t=e.value;return!t||!n.some((e=>e.value===t))}))}else i.value=n.value}else t.push(n)}return t}function ae(e=[],n=[],t,i){const r=t&&t.reverseDirectives,o=r?n:e,s=function(e,n){return e.map(((e,t,i)=>{const r=i.findIndex((n=>n.name.value===e.name.value));if(r!==t&&!re(e,n)){const n=i[r];return e.arguments=se(e.arguments,n.arguments),null}return e})).filter(L)}([...r?e:n],i);for(const e of o)if(ie(s,e)&&!re(e,i)){const n=s.findIndex((n=>n.name.value===e.name.value)),t=s[n];s[n].arguments=se(e.arguments||[],t.arguments||[])}else s.push(e);return s}function ce(e,n){return n?{...e,arguments:ue(n.arguments||[],e.arguments||[],((e,n)=>!oe(e.name,n.map((e=>e.name))))),locations:[...n.locations,...e.locations.filter((e=>!oe(e,n.locations)))]}:e}function ue(e,n,t){return e.concat(n.filter((n=>t(n,e))))}function le(e,n,t,i){if(t?.consistentEnumMerge){const t=[];e&&t.push(...e),e=n,n=t}const r=new Map;if(e)for(const n of e)r.set(n.name.value,n);if(n)for(const e of n){const n=e.name.value;if(r.has(n)){const t=r.get(n);t.description=e.description||t.description,t.directives=ae(e.directives,t.directives,i)}else r.set(n,e)}const o=[...r.values()];return t&&t.sort&&o.sort(U),o}function de(e,n,t,i){return n?{name:e.name,description:e.description||n.description,kind:t?.convertExtensions||"EnumTypeDefinition"===e.kind||"EnumTypeDefinition"===n.kind?"EnumTypeDefinition":"EnumTypeExtension",loc:e.loc,directives:ae(e.directives,n.directives,t,i),values:le(e.values,n.values,t)}:t?.convertExtensions?{...e,kind:s.Kind.ENUM_TYPE_DEFINITION}:e}function fe(e,n,t){const i=function(e,n){return e.reduce(((e,t)=>{const i=e.findIndex((e=>e.name.value===t.name.value));return-1===i?e.concat([t]):(n?.reverseArguments||(e[i]=t),e)}),[])}([...n,...e].filter(L),t);return t&&t.sort&&i.sort(U),i}function pe(e){let n=e;for(;n.kind===s.Kind.LIST_TYPE||"NonNullType"===n.kind;)n=n.type;return n}function ve(e){return e.kind!==s.Kind.NAMED_TYPE}function me(e){return e.kind===s.Kind.LIST_TYPE}function ye(e){return e.kind===s.Kind.NON_NULL_TYPE}function Ee(e){return me(e)?`[${Ee(e.type)}]`:ye(e)?`${Ee(e.type)}!`:e.name.value}function Te(e,n){return null==e&&null==n?ne.A_EQUALS_B:null==e?ne.A_SMALLER_THAN_B:null==n?ne.A_GREATER_THAN_B:e<n?ne.A_SMALLER_THAN_B:e>n?ne.A_GREATER_THAN_B:ne.A_EQUALS_B}function Ne(e,n){const t=e.findIndex((e=>e.name.value===n.name.value));return[t>-1?e[t]:null,t]}function Ie(e,n,t,i,r){const o=[];if(null!=t&&o.push(...t),null!=n)for(const t of n){const[n,s]=Ne(o,t);if(n&&!i?.ignoreFieldConflicts){const a=i?.onFieldTypeConflict&&i.onFieldTypeConflict(n,t,e,i?.throwOnConflict)||ge(e,n,t,i?.throwOnConflict);a.arguments=fe(t.arguments||[],n.arguments||[],i),a.directives=ae(t.directives,n.directives,i,r),a.description=t.description||n.description,o[s]=a}else o.push(t)}if(i&&i.sort&&o.sort(U),i&&i.exclusions){const n=i.exclusions;return o.filter((t=>!n.includes(`${e.name.value}.${t.name.value}`)))}return o}function ge(e,n,t,i=!1){const r=Ee(n.type),o=Ee(t.type);if(r!==o){const s=pe(n.type),a=pe(t.type);if(s.name.value!==a.name.value)throw new Error(`Field "${t.name.value}" already defined with a different type. Declared as "${s.name.value}", but you tried to override with "${a.name.value}"`);if(!Oe(n.type,t.type,!i))throw new Error(`Field '${e.name.value}.${n.name.value}' changed type from '${r}' to '${o}'`)}return ye(t.type)&&!ye(n.type)&&(n.type=t.type),n}function Oe(e,n,t=!1){if(!ve(e)&&!ve(n))return e.toString()===n.toString();if(ye(n)){return Oe(ye(e)?e.type:e,n.type)}return ye(e)?Oe(n,e,t):!!me(e)&&(me(n)&&Oe(e.type,n.type)||ye(n)&&Oe(e,n.type))}function he(e,n,t,i){if(n)try{return{name:e.name,description:e.description||n.description,kind:t?.convertExtensions||"InputObjectTypeDefinition"===e.kind||"InputObjectTypeDefinition"===n.kind?"InputObjectTypeDefinition":"InputObjectTypeExtension",loc:e.loc,fields:Ie(e,e.fields,n.fields,t),directives:ae(e.directives,n.directives,t,i)}}catch(n){throw new Error(`Unable to merge GraphQL input type "${e.name.value}": ${n.message}`)}return t?.convertExtensions?{...e,kind:s.Kind.INPUT_OBJECT_TYPE_DEFINITION}:e}function be(e=[],n=[],t={}){const i=[...n,...e.filter((e=>{return t=e,!n.find((e=>e.name.value===t.name.value));var t}))];return t&&t.sort&&i.sort(U),i}function De(e,n,t,i){if(n)try{return{name:e.name,description:e.description||n.description,kind:t?.convertExtensions||"InterfaceTypeDefinition"===e.kind||"InterfaceTypeDefinition"===n.kind?"InterfaceTypeDefinition":"InterfaceTypeExtension",loc:e.loc,fields:Ie(e,e.fields,n.fields,t),directives:ae(e.directives,n.directives,t,i),interfaces:e.interfaces?be(e.interfaces,n.interfaces,t):void 0}}catch(n){throw new Error(`Unable to merge GraphQL interface "${e.name.value}": ${n.message}`)}return t?.convertExtensions?{...e,kind:s.Kind.INTERFACE_TYPE_DEFINITION}:e}function Se(e,n,t,i){return n?{name:e.name,description:e.description||n.description,kind:t?.convertExtensions||"ScalarTypeDefinition"===e.kind||"ScalarTypeDefinition"===n.kind?"ScalarTypeDefinition":"ScalarTypeExtension",loc:e.loc,directives:ae(e.directives,n.directives,t,i)}:t?.convertExtensions?{...e,kind:s.Kind.SCALAR_TYPE_DEFINITION}:e}!function(e){e[e.A_SMALLER_THAN_B=-1]="A_SMALLER_THAN_B",e[e.A_EQUALS_B=0]="A_EQUALS_B",e[e.A_GREATER_THAN_B=1]="A_GREATER_THAN_B"}(ne||(ne={}));const ke={query:"Query",mutation:"Mutation",subscription:"Subscription"};function _e(e=[],n=[]){const t=[];for(const i in ke){const r=e.find((e=>e.operation===i))||n.find((e=>e.operation===i));r&&t.push(r)}return t}function Ae(e,n,t,i){return n?{kind:e.kind===s.Kind.SCHEMA_DEFINITION||n.kind===s.Kind.SCHEMA_DEFINITION?s.Kind.SCHEMA_DEFINITION:s.Kind.SCHEMA_EXTENSION,description:e.description||n.description,directives:ae(e.directives,n.directives,t,i),operationTypes:_e(e.operationTypes,n.operationTypes)}:t?.convertExtensions?{...e,kind:s.Kind.SCHEMA_DEFINITION}:e}function Ke(e,n,t,i){if(n)try{return{name:e.name,description:e.description||n.description,kind:t?.convertExtensions||"ObjectTypeDefinition"===e.kind||"ObjectTypeDefinition"===n.kind?"ObjectTypeDefinition":"ObjectTypeExtension",loc:e.loc,fields:Ie(e,e.fields,n.fields,t),directives:ae(e.directives,n.directives,t,i),interfaces:be(e.interfaces,n.interfaces,t)}}catch(n){throw new Error(`Unable to merge GraphQL type "${e.name.value}": ${n.message}`)}return t?.convertExtensions?{...e,kind:s.Kind.OBJECT_TYPE_DEFINITION}:e}function je(e,n,t,i){return n?{name:e.name,description:e.description||n.description,directives:ae(e.directives,n.directives,t,i),kind:t?.convertExtensions||"UnionTypeDefinition"===e.kind||"UnionTypeDefinition"===n.kind?s.Kind.UNION_TYPE_DEFINITION:s.Kind.UNION_TYPE_EXTENSION,loc:e.loc,types:be(e.types,n.types,t)}:t?.convertExtensions?{...e,kind:s.Kind.UNION_TYPE_DEFINITION}:e}const Pe="SCHEMA_DEF_SYMBOL";function Fe(e,n,t={}){const i=t;for(const r of e)if("name"in r){const e=r.name?.value;if(n?.commentDescriptions&&u(r),null==e)continue;if(n?.exclusions?.includes(e+".*")||n?.exclusions?.includes(e))delete i[e];else switch(r.kind){case s.Kind.OBJECT_TYPE_DEFINITION:case s.Kind.OBJECT_TYPE_EXTENSION:i[e]=Ke(r,i[e],n,t);break;case s.Kind.ENUM_TYPE_DEFINITION:case s.Kind.ENUM_TYPE_EXTENSION:i[e]=de(r,i[e],n,t);break;case s.Kind.UNION_TYPE_DEFINITION:case s.Kind.UNION_TYPE_EXTENSION:i[e]=je(r,i[e],n,t);break;case s.Kind.SCALAR_TYPE_DEFINITION:case s.Kind.SCALAR_TYPE_EXTENSION:i[e]=Se(r,i[e],n,t);break;case s.Kind.INPUT_OBJECT_TYPE_DEFINITION:case s.Kind.INPUT_OBJECT_TYPE_EXTENSION:i[e]=he(r,i[e],n,t);break;case s.Kind.INTERFACE_TYPE_DEFINITION:case s.Kind.INTERFACE_TYPE_EXTENSION:i[e]=De(r,i[e],n,t);break;case s.Kind.DIRECTIVE_DEFINITION:if(i[e]){e in{}&&((0,te.Ll)(i[e])||(i[e]=void 0))}i[e]=ce(r,i[e])}}else r.kind!==s.Kind.SCHEMA_DEFINITION&&r.kind!==s.Kind.SCHEMA_EXTENSION||(i[Pe]=Ae(r,i[Pe],n));return i}function xe(e,n,t=[],i=[],r=new Set){if(e&&!r.has(e))if(r.add(e),"function"==typeof e)xe(e(),n,t,i,r);else if(Array.isArray(e))for(const o of e)xe(o,n,t,i,r);else if((0,s.isSchema)(e)){xe(Y(e,n).definitions,n,t,i,r)}else if("string"==typeof e||function(e){return e instanceof s.Source}(e)){xe((0,s.parse)(e,n).definitions,n,t,i,r)}else if("object"==typeof e&&(0,s.isDefinitionNode)(e))e.kind===s.Kind.DIRECTIVE_DEFINITION?t.push(e):i.push(e);else{if(!(o=e)||"object"!=typeof o||!("kind"in o)||o.kind!==s.Kind.DOCUMENT)throw new Error("typeDefs must contain only strings, documents, schemas, or functions, got "+typeof e);xe(e.definitions,n,t,i,r)}var o;return{allDirectives:t,allNodes:i}}function Me(e,n){c();const{allDirectives:t,allNodes:i}=xe(e,n),r=Fe(t,n),o=Fe(i,n,r);if(n?.useSchemaDefinition){const e=o[Pe]||{kind:s.Kind.SCHEMA_DEFINITION,operationTypes:[]},n=e.operationTypes;for(const e in ke){if(!n.find((n=>n.operation===e))){const t=o[ke[e]];null!=t&&null!=t.name&&n.push({kind:s.Kind.OPERATION_TYPE_DEFINITION,type:{kind:s.Kind.NAMED_TYPE,name:t.name},operation:e})}}null!=e?.operationTypes?.length&&e.operationTypes.length>0&&(o[Pe]=e)}n?.forceSchemaDefinition&&!o[Pe]?.operationTypes?.length&&(o[Pe]={kind:s.Kind.SCHEMA_DEFINITION,operationTypes:[{kind:s.Kind.OPERATION_TYPE_DEFINITION,operation:"query",type:{kind:s.Kind.NAMED_TYPE,name:{kind:s.Kind.NAME,value:"Query"}}}]});const a=Object.values(o);if(n?.sort){const e="function"==typeof n.sort?n.sort:Te;a.sort(((n,t)=>e(n.name?.value,t.name?.value)))}return a}var Ue=[{id:"1",name:"John Doe",email:"john@example.com"},{id:"2",name:"Jane Smith",email:"jane@example.com"}],Le={Query:{hello:function(){return"world"},users:function(){return Ue},user:function(e,n){var t=n.id;return Ue.find((function(e){return e.id===t}))}}};function we(e){return we="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},we(e)}function Ce(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,i)}return t}function Ve(e,n,t){return(n=function(e){var n=function(e,n){if("object"!=we(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var i=t.call(e,n||"default");if("object"!=we(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(e,"string");return"symbol"==we(n)?n:n+""}(n))in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var Ye=new(require("graphql-subscriptions").PubSub),Re={Mutation:{createUser:function(e,n){var t=n.input,i=function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Ce(Object(t),!0).forEach((function(n){Ve(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Ce(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}({id:String(Ue.length+1)},t);return Ue.push(i),{user:i,msg:"user added successfully"}},updateUser:function(e,n){var t=n.id,i=n.input,r=Ue.findIndex((function(e){return e.id===t}));return-1!==r?(i.name&&(Ue[r].name=i.name),i.email&&(Ue[r].email=i.email),{user:Ue[r],msg:"User updated successfully "}):{msg:"Invalid userID"}},deleteUser:function(e,n){var t=n.id,i=Ue.findIndex((function(e){return e.id===t}));if(-1!==i){var r=Ue.splice(i,1)[0];return Ye.publish("USER_DELETED",{userDeleted:r}),{id:r.id,success:!0,message:"user deleted successfully"}}return{id:t,success:!1,message:"User not found"}}},Subscription:{userDeleted:{subscribe:function(){return Ye.asyncIterator(["USER_DELETED"])}}}};require("url");const $e=require("path");function Be(e){return Be="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Be(e)}function qe(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,i)}return t}function Je(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?qe(Object(t),!0).forEach((function(n){He(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):qe(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function He(e,n,t){return(n=function(e){var n=function(e,n){if("object"!=Be(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var i=t.call(e,n||"default");if("object"!=Be(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(e,"string");return"symbol"==Be(n)?n:n+""}(n))in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var Qe=function(e,n){c();const t={kind:s.Kind.DOCUMENT,definitions:Me(e,{useSchemaDefinition:!0,forceSchemaDefinition:!1,throwOnConflict:!1,commentDescriptions:!1,...n})};let i;return i=n?.commentDescriptions?function(e){return(0,s.visit)(e,T)}(t):t,c(),i}((0,o.loadFilesSync)("./schema/typeDefs",{extensions:["gql","graphql"]})),Ge=Je(Je({},Le),Re),Xe=(0,r.createSchema)({typeDefs:Qe,resolvers:Ge}),We=(0,r.createYoga)({graphqlEndpoint:"/graphql",schema:Xe,graphiql:!0}),ze=t();ze.use(i());var Ze=$e.resolve(),en=(0,$e.join)(Ze,"chumma");ze.use(t.static(en)),ze.get("*",(function(e,n,t){if(e.path.startsWith("/graphql")||"/restapi"===e.path)return t();n.sendFile((0,$e.join)(en,"index.html"))})),ze.use("/graphql",We),ze.get("/restapi",(function(e,n){n.status(200).json({users:Ue})})),ze.delete("/restapi/:id",(function(e,n){var t=e.params.id,i=Ue.findIndex((function(e){return e.id===t}));return-1!==i?(Ue.splice(i,1),n.json({msg:"User with id ".concat(t," deleted successfully")})):n.status(404).json({msg:"User with id ".concat(t," not found")})}));var nn=process.env.PORT||4e3;ze.listen(nn,(function(){console.log("Server is active on Port ".concat(nn))}))})();
//# sourceMappingURL=bundle.js.map